{
  "_comment": "Configuraci√≥n para Raspberry Pi 3B+ como Commander + Storage",
  "_version": "2.0.0",
  "_device_role": "commander_storage",
  "_target_device": "Pi Zero W",
  
  "serial": {
    "puerto": "/dev/ttyS0",
    "baudrate": 115200,
    "timeout": 30,
    "write_timeout": 15,
    "retry_attempts": 3,
    "retry_delay": 2
  },
  
  "imagen": {
    "ancho_default": 1024,
    "calidad_default": 6,
    "chunk_size": 256,
    "ack_timeout": 15,
    "jpeg_progressive": false,
    "request_timeout": 60
  },
  
  "almacenamiento": {
    "directorio_received": "data/images/received",
    "directorio_processed": "data/images/processed",
    "directorio_backup": "data/images/backup",
    "mantener_originales": true,
    "logs_dir": "data/logs",
    "temp_dir": "data/temp",
    "max_log_files": 10,
    "compress_old_images": false
  },
  
  "procesamiento": {
    "aplicar_mejoras_post": false,
    "generar_thumbnails": true,
    "thumbnail_size": 200,
    "auto_rotate": true,
    "watermark": false
  },
  
  "limites": {
    "max_jpeg_bytes": 112640,
    "fallback_quality_drop": 10,
    "max_transfer_time": 120,
    "max_retry_attempts": 3,
    "min_disk_space_mb": 100
  },
  
  "pi3b_commander": {
    "enabled": true,
    "storage_mode": "local",
    "max_images": 500,
    "auto_cleanup": true,
    "cleanup_interval_hours": 24,
    "backup_to_usb": false,
    "usb_backup_path": "/media/usb/backup",
    "web_gallery_enabled": true,
    "web_gallery_port": 8080,
    "continuous_mode": false,
    "capture_interval_seconds": 300,
    "auto_start_on_boot": false
  },
  
  "notifications": {
    "enabled": false,
    "email_on_error": false,
    "email_config": {
      "smtp_server": "smtp.gmail.com",
      "smtp_port": 587,
      "username": "",
      "password": "",
      "to_email": ""
    },
    "webhook_on_capture": false,
    "webhook_url": ""
  },
  
  "monitoring": {
    "enabled": true,
    "log_transfer_stats": true,
    "log_storage_usage": true,
    "performance_metrics": true,
    "health_check_interval": 300
  },
  
  "security": {
    "require_auth": false,
    "api_key": "",
    "allowed_ips": ["127.0.0.1", "192.168.1.0/24"],
    "rate_limiting": true,
    "max_requests_per_hour": 100
  }
}
